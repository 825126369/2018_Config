#阿里巴巴赵鑫磊同志的自动产生依赖方法
CC :=g++
CFLAGS :=-g -W 
all_SRCS := $(wildcard *.cpp)

$(foreach src,$(all_SRCS),$(eval $(shell $(CC) $(CFLAGS) -MM $(src))))

#$(eval $(shell echo "$(all_SRCS)"))
.PHONY:all sss
all:sss 
#$(shell echo "$(all_SRCS)")
$(foreach src,$(all_SRCS),$(eval $(shell $(CC) $(CFLAGS) -MM $(src))))
$(subst .cpp,.o,$(all_SRCS)):
	$(CC) $(CFLAGS) -c -o $@ $<

sss:test.o main.o
	$(CC)  $^ -o $@
	@echo "Build Success"
